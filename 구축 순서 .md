# 설치 순서

1. 우분투 22.04 설치
2. ros2 Humble 설치 -> https://docs.ros.org/en/humble/Installation/Ubuntu-Install-Debs.html
3. PX4 main branch 설치 -> https://docs.px4.io/main/en/dev_setup/dev_env_linux_ubuntu
4. Micro-xrce-dds-agent 설치 -> https://docs.px4.io/main/en/middleware/uxrce_dds 
5. QGroundControl 설치 -> https://docs.qgroundcontrol.com/master/en/qgc-user-guide/getting_started/download_and_install.html
6. openCV 4.5.4에 Gstreamer 설치 여부 확인 (중요, print(cv2.getBuildInfromation()) 활용)
7. ros-gz-bridge 설치 -> https://github.com/gazebosim/ros_gz/tree/humble (from source 버전, export GZ_VERSION=harmonic # IMPORTANT!! 꼭 하기)
8. ws_sensor_combined workspace 설치 및 빌드 -> https://docs.px4.io/main/en/ros2/user_guide 참조
9. LiDAR_및_ArUco_마커를_활용한_정밀착륙_시뮬레이션_v1.0.1.pdf 참고하여 자동착륙 모듈 실행

### 필요한 workspace -> ws_sensor_combined, ros-gz-bridge, ws_KRAC 이 3개가 있어야 자동 착륙 모듈 실행 가능!!


# 코드 실행순서
(각 번호마다 새로운 터미널 실행해야함)

1. QGC 실행
2. $ source /opt/ros/humble/setup.bash 후, $ MicroXRCEAgent udp4 -p 888 -> XRCE Agent 실행
3. $ source /opt/ros/humble/setup.bash 후, $ PX4_GZ_WORLD=aruco make px4_sitl gz_x500_lidar_down -> px4로 드론 스폰
4. $ source /opt/ros/humble/setup.bash 후, $ source ~/rosgz/install/setup.bash -> gz -> ros bridge 실행
5. $ source /opt/ros/humble/setup.bash 후, $ ros2 run ros_gz_bridge parameter_bridge /world/aruco/model/x500_lidar_down_0/link/lidar_sensor_link/sensor/lidar/scan/points@sensor_msgs/msg/PointCloud2[gz.msgs.PointCloudPacked -> gz->ros bridge 실행
6. 드론 이륙 시킨 후, $ source /opt/ros/humble/setup.bash 후, $ source ~/ws_sensor_combined/install/setup.bash 후, $ source ~/space_y/ws_KRAC/install/setup.bash 후, $ ros2 launch launch_package autoland.launch.py -> 자동 착륙 될거임.
